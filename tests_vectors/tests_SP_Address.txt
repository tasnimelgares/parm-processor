# Unitary testing: test vectors for SP_Address

# Déclaration des signaux :
# Les valeurs 32 bits et 16 bits sont en Hexadécimal

Stack_Pointer[32] Instruction[16] Enable[1] New_Stack_Pointer[32] Write_Enable[1]

# tests

# inputs outputs
# Stack_Pointer[32] Instruction[16] Enable[1] New_Stack_Pointer[32] Write_Enable[1]

# ==========================================
# TEST 1 : ADDITION (Bit 7 de l'instruction à 0)
# Formule : New_SP = SP + (Imm7 * 4)
# ==========================================

# Cas simple : SP=10, Imm=1. Ajout de 4 (1*4). 10 + 4 = 14
00000000000000000000000000001010 1011000000000001 1 00000000000000000000000000001110 1

# Cas simple : SP=10, Imm=2. Ajout de 8 (2*4). 10 + 8 = 18
00000000000000000000000000001010 1011000000000010 1 00000000000000000000000000010010 1

# Cas avec SP à 0 : SP=0, Imm=1. Ajout de 4.
00000000000000000000000000000000 1011000000000001 1 00000000000000000000000000000100 1

# Cas sans ajout : SP=20, Imm=0.
00000000000000000000000000010100 1011000000000000 1 00000000000000000000000000010100 1

# ==========================================
# TEST 2 : SOUSTRACTION (Bit 7 de l'instruction à 1)
# Formule : New_SP = SP - (Imm7 * 4)
# Note : 0081 en hex => bit 7 à 1 et imm à 1
# ==========================================

# Cas simple : SP=10, Imm=1. Retrait de 4. 16 - 4 = 12 (C en hex)
00000000000000000000000000001010 1011000010000001 1 00000000000000000000000000000110 1

# Cas simple : SP=10, Imm=2. Retrait de 8. 16 - 8 = 8
00000000000000000000000000001010 1011000010000010 1 00000000000000000000000000000010 1

# Cas limite : SP=4, Imm=1. Retrait de 4. Résultat 0.
00000000000000000000000000000100 1011000010000001 1 00000000000000000000000000000000 1

# ==========================================
# TEST 3 : ENABLE / DISABLE
# Si Enable est à 0, Write_Enable doit être à 0
# La sortie New_Stack_Pointer est donc à 0 car toutes les sorties doivent être à 0
# mais l'écriture est interdite.
# ==========================================

# Enable à 0 avec une addition valide
00000000000000000000000000001010 1011000000000001 0 00000000000000000000000000000000 0

# Enable à 0 avec une soustraction valide
00000000000000000000000000001010 1011000010000001 0 00000000000000000000000000000000 0